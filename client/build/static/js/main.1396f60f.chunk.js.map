{"version":3,"sources":["components/Chat/Chat.component.js","components/Join/Join.component.js","components/Header/Header.component.js","components/Message/Message.component.js","components/MessagesBox/MessagesBox.component.js","components/Input/Input.component.js","components/Chatbox/Chatbox.component.js","App.js","index.js"],"names":["socket","Join","props","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","Header","href","Message","string","message","user","text","isSentByCurrentUser","isSentByAdmin","trimmedUser","trim","toLowerCase","ReactEmoji","emojify","charAt","toUpperCase","slice","MessagesBox","messages","map","i","key","Input","setMessage","sendMessage","onKeyPress","Chatbox","chatRoom","Chat","location","setMessages","usersInRoom","setUsersInRoom","url","useEffect","queryString","parse","search","io","emit","document","title","off","on","newUsers","users","elem","App","exact","path","component","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.1396f60f.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\n\r\nimport Chatbox from '../Chatbox/Chatbox.component';\r\n\r\nimport './Chat.styles.css';\r\n\r\nlet socket;\r\n\r\nconst Chat = props => {\r\n  const { location } = props;\r\n  const [name, setName] = useState('');\r\n  const [room, setRoom] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [usersInRoom, setUsersInRoom] = useState(['Admin']);\r\n  const url = 'https://chatapp-1201.herokuapp.com/';\r\n  useEffect(() => {\r\n    const { name, room } = queryString.parse(location.search);\r\n    socket = io(url);\r\n    setName(name);\r\n    setRoom(room);\r\n\r\n    socket.emit('join', { name, room }, () => {\r\n    });\r\n    document.title = `Room: ${room} | User: ${name}`;\r\n    return () => {\r\n      socket.emit('disconnect');\r\n      socket.off();\r\n    }\r\n  }, [url, location.search]);\r\n\r\n  useEffect(() => {\r\n    socket.on('message', (message) => {\r\n      setMessages([...messages, message]);\r\n    })\r\n  }, [messages]);\r\n\r\n  const sendMessage = event => {\r\n    event.preventDefault();\r\n    if (message) {\r\n      socket.emit('sendMessage', message, () => {\r\n        setMessage('');\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    socket.on('roomData', (newUsers) => {\r\n      setUsersInRoom([\r\n        ...usersInRoom,\r\n        newUsers\r\n      ]);\r\n      newUsers.users.map((elem) =>\r\n        setUsersInRoom([\r\n          ...usersInRoom,\r\n          elem.name\r\n        ])\r\n      );\r\n    })\r\n  }, [usersInRoom]);\r\n\r\n  const getUsers = event => {\r\n    socket.emit('roomData', (usersInRoom), () => {\r\n      console.log('getting users list...');\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <Chatbox\r\n        name={name}\r\n        chatRoom={room}\r\n        message={message}\r\n        messages={messages}\r\n        setMessage={setMessage}\r\n        sendMessage={sendMessage}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Join.styles.css'\r\n\r\nconst Join = props => {\r\n\r\n  const [name, setName] = useState('');\r\n  const [room, setRoom] = useState('');\r\n\r\n  return (\r\n    <div className='joinOuterContainer'>\r\n      <div className='joinInnerContainer'>\r\n        <h1 className='heading'>Join a room</h1>\r\n        <div className='formInput'>\r\n          <input placeholder='John Doe' className='formInputMain nameInput' type='text' onChange={(event) => setName(event.target.value)} />\r\n        </div>\r\n        <div className='formInput'>\r\n          <input placeholder='10012' className='formInputMain roomInput mt-20' type='text' onChange={(event) => setRoom(event.target.value)} />\r\n        </div>\r\n        <div className='buttonContainer'>\r\n          <Link onClick={(event) => (!name || !room) ? event.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\r\n            <button className='button mt-20' type='submit'>Join Room → </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Join;\r\n","import React from 'react';\r\n\r\nimport './Header.styles.css';\r\n\r\nconst Header = props => {\r\n  return (\r\n    <div className='headerContainer'>\r\n      <span className='titleHeader'>Welcome to Room: {props.room}</span>\r\n      <div className='closeRoom'>\r\n        <a href='/'>Close Room</a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport ReactEmoji from 'react-emoji';\r\n\r\nimport './Message.styles.css';\r\n\r\nconst Message = props => {\r\n\r\n  const { name } = props;\r\n  const { user, text } = props.message;\r\n\r\n  let isSentByCurrentUser = false;\r\n  let isSentByAdmin = false;\r\n  const trimmedUser = user.trim().toLowerCase();\r\n  const trimmedName = name.trim().toLowerCase();\r\n\r\n  if ( trimmedName === trimmedUser ) {\r\n    isSentByCurrentUser = true;\r\n  }\r\n\r\n  if ( trimmedUser === 'admin' ) {\r\n    isSentByAdmin = true;\r\n  }\r\n\r\n  // Auxialliary function to capitalize first letter of string\r\n  function capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n\r\n  return (\r\n    <div className='messagesContainer'>\r\n      {\r\n        isSentByCurrentUser ? (\r\n          <div className='messageBox mbRight'>\r\n            <div className='messageSender messageSenderRight'>\r\n              You\r\n            </div>\r\n            <div className='messageSent'>\r\n              {ReactEmoji.emojify(text)}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className='messageBox'>\r\n            <div className='messageSender messageSenderLeft'>\r\n                {\r\n                  isSentByAdmin ? null : `~ ${capitalizeFirstLetter(user)}`\r\n                }\r\n            </div>\r\n            <div className='messageSent'>\r\n              {ReactEmoji.emojify(text)}\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nimport Message from '../Message/Message.component';\r\n\r\nimport './MessagesBox.styles.css';\r\n\r\nconst MessagesBox = props => {\r\n\r\n  const { messages, name } = props;\r\n\r\n  return (\r\n    <ScrollToBottom>\r\n      {messages.map((message, i) => <div key={i}><Message message={message} name={name}/></div>)}\r\n    </ScrollToBottom>\r\n  )\r\n}\r\n\r\nexport default MessagesBox;\r\n","import React from 'react';\r\n\r\nimport './Input.styles.css';\r\n\r\nconst Input = props => {\r\n\r\n  const { message, setMessage, sendMessage } = props;\r\n\r\n  return (\r\n    <div className='sendMessageContainer'>\r\n      <div className='inputHolder'>\r\n        <input\r\n          value={message}\r\n          type='textarea'\r\n          placeholder='Type message...'\r\n          onChange={(event) => setMessage(event.target.value)}\r\n          onKeyPress={(event) => event.key === 'Enter' ? sendMessage(event) : null }\r\n          className='sendMessageInput'\r\n        />\r\n        <button\r\n          type='submit'\r\n          onClick={(event) => sendMessage(event)}\r\n          className='sendButton'\r\n        >\r\n          Send →\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\n\r\nimport './Chatbox.styles.css'\r\n\r\nimport Header from '../Header/Header.component'\r\nimport MessagesBox from '../MessagesBox/MessagesBox.component';\r\nimport Input from '../Input/Input.component';\r\n\r\nconst Chatbox = props => {\r\n\r\n  const {\r\n    name,\r\n    chatRoom,\r\n    message,\r\n    messages,\r\n    setMessage,\r\n    sendMessage\r\n  } = props;\r\n\r\n  return (\r\n    <div className='mainContainer'>\r\n      <div className='chatBoxContainer'>\r\n        <Header room={chatRoom}/>\r\n        <MessagesBox messages={messages} name={name}/>\r\n        <Input message={message} setMessage={setMessage} sendMessage={sendMessage}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chatbox;\r\n","import React from 'react';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route\r\n} from 'react-router-dom';\r\n\r\nimport Join from './components/Join/Join.component';\r\nimport Chat from './components/Chat/Chat.component';\r\n\r\nconst App = () => {\r\n  return (\r\n    <Router>\r\n      <Route exact path=\"/\" component={Join} />\r\n      <Route path=\"/chat\" component={Chat} />\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}